{"version":3,"sources":["file:///Users/mario/Desktop/BigBox/assets/scripts/ui/launch/VLaunch.ts"],"names":["_decorator","Label","Sprite","UIBase","UIManager","ESceneType","EUICacheMode","EUIId","ccclass","property","VLaunch","type","tooltip","_progress","start","onClickTest","ins","loadScene","RUN_ROCKET","finish","total","item","progressLbl","string","Math","ceil","progressBar","fillRange","closeUI","LAUNCH","REUSABLE","onClickTest2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAA6BC,MAAAA,K,OAAAA,K;AAAgCC,MAAAA,M,OAAAA,M;;AAC/DC,MAAAA,M;;AACAC,MAAAA,S;;AAEEC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,K,iBAAAA,K;;;;;;;OAEjB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;yBAGjBU,O,WADZF,OAAO,CAAC,SAAD,C,UAGHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEV,KAAR;AAAeW,QAAAA,OAAO,EAAE;AAAxB,OAAD,C,UAGRH,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAET,MAAR;AAAgBU,QAAAA,OAAO,EAAE;AAAzB,OAAD,C,2BANb,MACaF,OADb;AAAA;AAAA,4BACoC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAQxBG,SARwB,GAQJ,CARI;AAAA;;AAUhCC,QAAAA,KAAK,GAAG,CAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAEDC,QAAAA,WAAW,GAAG;AACV;AAAA;AAAA,sCAAUC,GAAV,CAAcC,SAAd,CAAwB;AAAA;AAAA,wCAAWC,UAAnC,EAA+C,IAA/C,EAAqD,CAACC,MAAD,EAAiBC,KAAjB,EAAgCC,IAAhC,KAAmE;AACpH;AACA,gBAAI,KAAKR,SAAL,GAAiBM,MAAM,GAAGC,KAA9B,EAAqC;AACjC,mBAAKP,SAAL,GAAiBM,MAAM,GAAGC,KAA1B;AACA,mBAAKE,WAAL,CAAiBC,MAAjB,GAA0BC,IAAI,CAACC,IAAL,CAAU,KAAKZ,SAAL,GAAiB,GAA3B,IAAkC,GAA5D;AACA,mBAAKa,WAAL,CAAiBC,SAAjB,GAA6B,KAAKd,SAAlC;AACH;AACJ,WAPD,EAOG,MAAM;AACL;AAAA;AAAA,wCAAUG,GAAV,CAAcY,OAAd,CAAsB;AAAA;AAAA,gCAAMC,MAA5B,EAAoC;AAAA;AAAA,8CAAaC,QAAjD;AACH,WATD;AAUH;;AAEDC,QAAAA,YAAY,GAAG;AACX;AAAA;AAAA,sCAAUf,GAAV,CAAcY,OAAd,CAAsB;AAAA;AAAA,8BAAMC,MAA5B,EAAoC;AAAA;AAAA,4CAAaC,QAAjD;AACH;;AAzC+B,O;;;;;iBAGX,I;;;;;;;iBAGC,I","sourcesContent":["import { _decorator, Component, Node, Label, AssetManager, resources, Sprite } from 'cc';\nimport UIBase from '../../core/base/UIBase';\nimport UIManager from '../../core/manager/UIManager';\nimport ULog from '../../core/util/ULog';\nimport { ESceneType } from '../../enum/EScene';\nimport { EUICacheMode, EUIId } from '../../enum/EUI';\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('VLaunch')\nexport class VLaunch extends UIBase {\n\n    @property({ type: Label, tooltip: '加载进度label' })\n    progressLbl: Label = null;\n\n    @property({ type: Sprite, tooltip: '加载进度条' })\n    progressBar: Sprite = null;\n\n    private _progress: number = 0;\n\n    start() {\n\n\n        // UIManager.ins.loadScene(ESceneType.HALL, null, (finish: number, total: number, item: AssetManager.RequestItem) => {\n        //     ULog.log('loadScene HALL:', finish, '/', total);\n        //     if (this._progress < finish / total) {\n        //         this._progress = finish / total;\n        //         this.progressLbl.string = Math.ceil(this._progress * 100) + '%';\n        //     }\n        // }, () => {\n        //     ULog.log('finish, closeUI this.uiId:', this.uiId)\n        //     // UIManager.ins.closeUI(this.uiId, true);\n        //     UIManager.ins.showTooltip('哈哈哈哈哈');\n        // });\n    }\n\n    onClickTest() {\n        UIManager.ins.loadScene(ESceneType.RUN_ROCKET, null, (finish: number, total: number, item: AssetManager.RequestItem) => {\n            // ULog.log('loadScene RUN_ROCKET:', finish, '/', total);\n            if (this._progress < finish / total) {\n                this._progress = finish / total;\n                this.progressLbl.string = Math.ceil(this._progress * 100) + '%';\n                this.progressBar.fillRange = this._progress;\n            }\n        }, () => {\n            UIManager.ins.closeUI(EUIId.LAUNCH, EUICacheMode.REUSABLE);\n        });\n    }\n\n    onClickTest2() {\n        UIManager.ins.closeUI(EUIId.LAUNCH, EUICacheMode.REUSABLE);\n    }\n\n\n}\n\n"]}